"use strict";(self.webpackChunkjavascript_parser_in_rust=self.webpackChunkjavascript_parser_in_rust||[]).push([[391],{9114:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var r=s(1527),i=s(7660);const t={id:"ast",title:"Abstract Syntax Tree"},a=void 0,c={id:"ast",title:"Abstract Syntax Tree",description:"\ub2e4\uc74c \uc7a5\uc758 \ud30c\uc11c\ub294 \ud1a0\ud070\uc744 \ucd94\uc0c1 \uad6c\ubb38 \ud2b8\ub9ac(AST)\ub85c \ubcc0\ud658\ud558\ub294 \uc5ed\ud560\uc744 \ub2f4\ub2f9\ud569\ub2c8\ub2e4.",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/ast.md",sourceDirName:".",slug:"/ast",permalink:"/javascript-parser-in-rust/ko/docs/ast",draft:!1,unlisted:!1,editUrl:"https://github.com/oxc-project/javascript-parser-in-rust/tree/main/docs/ast.md",tags:[],version:"current",frontMatter:{id:"ast",title:"Abstract Syntax Tree"},sidebar:"tutorialSidebar",previous:{title:"Lexer",permalink:"/javascript-parser-in-rust/ko/docs/lexer"},next:{title:"Parser",permalink:"/javascript-parser-in-rust/ko/docs/parser"}},d={},l=[{value:"Getting familiar with the AST(AST\uc640 \uce5c\ud574\uc9c0\uae30)",id:"getting-familiar-with-the-astast\uc640-\uce5c\ud574\uc9c0\uae30",level:2},{value:"estree",id:"estree",level:2},{value:"Rust Optimizations",id:"rust-optimizations",level:2},{value:"Memory Allocations",id:"memory-allocations",level:3},{value:"Enum Size",id:"enum-size",level:3},{value:"Memory Arena",id:"memory-arena",level:4},{value:"JSON Serialization",id:"json-serialization",level:2}];function o(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"\ub2e4\uc74c \uc7a5\uc758 \ud30c\uc11c\ub294 \ud1a0\ud070\uc744 \ucd94\uc0c1 \uad6c\ubb38 \ud2b8\ub9ac(AST)\ub85c \ubcc0\ud658\ud558\ub294 \uc5ed\ud560\uc744 \ub2f4\ub2f9\ud569\ub2c8\ub2e4.\n\uc18c\uc2a4 \ud14d\uc2a4\ud2b8\uc5d0 \ube44\ud574 AST\uc5d0\uc11c \uc791\uc5c5\ud558\ub294 \uac83\uc774 \ud6e8\uc52c \ub354 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"\uc608\ub97c \ub4e4\uc5b4 \ubaa8\ub4e0 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ub3c4\uad6c\ub294 AST \uc218\uc900\uc5d0\uc11c \uc791\ub3d9\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"linter(\uc608: eslint)\ub294 AST\uc5d0 \uc624\ub958\uac00 \uc788\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"formatter(\uc608: prettier)\ub294 AST\ub97c \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ud14d\uc2a4\ud2b8\ub85c \ub2e4\uc2dc \uc778\uc1c4\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"minifier(\uc608: terser)\ub294 AST\ub97c \ubcc0\ud658\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"bundler\ub294 \uc11c\ub85c \ub2e4\ub978 \ud30c\uc77c\uc5d0 \uc788\ub294 AST \uac04\uc758 \ubaa8\ub4e0 import\ubb38 \ubc0f export\ubb38\uc744 \uc5f0\uacb0\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \uc7a5\uc5d0\uc11c\ub294 Rust \uad6c\uc870\uccb4\uc640 \uc5f4\uac70\ud615\uc744 \uc0ac\uc6a9\ud558\uc5ec JavaScript AST\ub97c \uad6c\uc131\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"getting-familiar-with-the-astast\uc640-\uce5c\ud574\uc9c0\uae30",children:"Getting familiar with the AST(AST\uc640 \uce5c\ud574\uc9c0\uae30)"}),"\n",(0,r.jsxs)(n.p,{children:["AST\uc640 \uce5c\ud574\uc9c0\uae30 \uc704\ud574 ",(0,r.jsx)(n.a,{href:"https://astexplorer.net/",children:"ASTExplorer"}),"\ub97c \ubc29\ubb38\ud558\uc5ec \uc5b4\ub5a4 \ubaa8\uc2b5\uc778\uc9c0 \uc0b4\ud3b4\ubd05\uc2dc\ub2e4.\n\uc0c1\ub2e8 \ud328\ub110\uc5d0\uc11c JavaScript\ub97c \uc120\ud0dd\ud55c \ub2e4\uc74c ",(0,r.jsx)(n.code,{children:"acron"}),"\ub97c \uc120\ud0dd\ud558\uace0 ",(0,r.jsx)(n.code,{children:"var a"}),"\ub97c \uc785\ub825\ud558\uba74 \ud2b8\ub9ac \ubdf0\uc640 JSON \ubdf0\uac00 \ud45c\uc2dc\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "Program",\n  "start": 0,\n  "end": 5,\n  "body": [\n    {\n      "type": "VariableDeclaration",\n      "start": 0,\n      "end": 5,\n      "declarations": [\n        {\n          "type": "VariableDeclarator",\n          "start": 4,\n          "end": 5,\n          "id": {\n            "type": "Identifier",\n            "start": 4,\n            "end": 5,\n            "name": "a"\n          },\n          "init": null\n        }\n      ],\n      "kind": "var"\n    }\n  ],\n  "sourceType": "script"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uc774\uac83\uc740 \ud2b8\ub9ac\uc774\ubbc0\ub85c \ubaa8\ub4e0 \uac1d\uccb4\ub294 \ud0c0\uc785 \uc774\ub984(\uc608: ",(0,r.jsx)(n.code,{children:"Program"}),", ",(0,r.jsx)(n.code,{children:"VariableDeclaration"}),", ",(0,r.jsx)(n.code,{children:"VariableDeclarator"}),", ",(0,r.jsx)(n.code,{children:"Identifier"}),")\uc744 \uac00\uc9c4 \ub178\ub4dc\uc785\ub2c8\ub2e4.\n",(0,r.jsx)(n.code,{children:"start"}),"\uacfc ",(0,r.jsx)(n.code,{children:"end"}),"\uc740 \uc18c\uc2a4\ub85c\ubd80\ud130\uc758 \uc624\ud504\uc14b\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h2,{id:"estree",children:"estree"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/estree/estree",children:"estree"}),"\ub294 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc704\ud55c \ucee4\ubba4\ub2c8\ud2f0 \ud45c\uc900 \ubb38\ubc95 \uc0ac\uc591\uc785\ub2c8\ub2e4,\n",(0,r.jsx)(n.a,{href:"https://github.com/estree/estree/blob/master/es5.md",children:"\ubaa8\ub4e0 AST \ub178\ub4dc"}),"\ub97c \uc815\uc758\ud558\uc5ec \ub2e4\uc591\ud55c \ub3c4\uad6c\uac00 \uc11c\ub85c \ud638\ud658\ub420 \uc218 \uc788\ub3c4\ub85d\n\uc11c\ub85c \ud638\ud658\ub420 \uc218 \uc788\ub3c4\ub85d \uc815\uc758\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\ubaa8\ub4e0 AST \ub178\ub4dc\uc758 \uae30\ubcf8 \ube4c\ub529 \ube14\ub85d\uc740 ",(0,r.jsx)(n.code,{children:"Node"})," \ud0c0\uc785\uc785\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"#[derive(Debug, Default, Clone, Copy, Serialize, PartialEq, Eq)]\npub struct Node {\n    /// Start offset in source\n    pub start: usize,\n\n    /// End offset in source\n    pub end: usize,\n}\n\nimpl Node {\n    pub fn new(start: usize, end: usize) -> Self {\n        Self { start, end }\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"var a"}),"\uc5d0 \ub300\ud55c AST\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc815\uc758\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct Program {\n    pub node: Node,\n    pub body: Vec<Statement>,\n}\n\npub enum Statement {\n    VariableDeclarationStatement(VariableDeclaration),\n}\n\npub struct VariableDeclaration {\n    pub node: Node,\n    pub declarations: Vec<VariableDeclarator>,\n}\n\npub struct VariableDeclarator {\n    pub node: Node,\n    pub id: BindingIdentifier,\n    pub init: Option<Expression>,\n}\n\npub struct BindingIdentifier {\n    pub node: Node,\n    pub name: String,\n}\n\npub enum Expression {\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Rust\uc5d0\ub294 \uc0c1\uc18d\uc774 \uc5c6\uc73c\ubbc0\ub85c \uac01 \uad6c\uc870\uccb4\uc5d0 ",(0,r.jsx)(n.code,{children:"Node"}),'\uac00 \ucd94\uac00\ub429\ub2c8\ub2e4(\uc774\ub97c "\uc0c1\uc18d\uc744 \ud1b5\ud55c \uad6c\uc131"\uc774\ub77c\uace0 \ud568).']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Statement"}),"\uc640 ",(0,r.jsx)(n.code,{children:"Expression"}),"\uc740 \uc5f4\uac70\ud615\uc778\ub370, \uc608\ub97c \ub4e4\uc5b4 \ub2e4\ub978 \ub9ce\uc740 \ub178\ub4dc \ud0c0\uc785\uc73c\ub85c \ud655\uc7a5\ub420 \uac83\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub enum Expression {\n    AwaitExpression(AwaitExpression),\n    YieldExpression(YieldExpression),\n}\n\npub struct AwaitExpression {\n    pub node: Node,\n    pub expression: Box<Expression>,\n}\n\npub struct YieldExpression {\n    pub node: Node,\n    pub expression: Box<Expression>,\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Rust\uc5d0\uc11c\ub294 self-referential struct\uac00 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 ",(0,r.jsx)(n.code,{children:"Box"}),"\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ubb38\ubc95\uc5d0\ub294 \uadc0\ucc2e\uc740 \ubd80\ubd84\uc774 \ub9ce\uc73c\ub2c8 ",(0,r.jsx)(n.a,{href:"/blog/grammar",children:"grammar tutorial"}),"\uc744 \ud55c \ubc88 \ud655\uc778\ud574\uc8fc\uc138\uc694."]})}),"\n",(0,r.jsx)(n.h2,{id:"rust-optimizations",children:"Rust Optimizations"}),"\n",(0,r.jsx)(n.h3,{id:"memory-allocations",children:"Memory Allocations"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/javascript-parser-in-rust/ko/docs/overview",children:"Overview"})," \uc7a5\uc73c\ub85c \ub3cc\uc544\uac11\ub2c8\ub2e4,\n\ud799 \ud560\ub2f9 \ube44\uc6a9\uc774 \uc800\ub834\ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 ",(0,r.jsx)(n.code,{children:"Vec"}),", ",(0,r.jsx)(n.code,{children:"Box"}),"\uc640 \uac19\uc740 \ud799 \ud560\ub2f9 \uad6c\uc870\uccb4\ub97c \uc8fc\uc758\ud574\uc57c \ud55c\ub2e4\uace0 \uac04\ub7b5\ud558\uac8c \uc5b8\uae09\ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/swc-project/swc/blob/main/crates/swc_ecma_ast/src/expr.rs",children:"swc\uc758 \uc2e4\uc81c \uad6c\ud604"}),"\uc744 \uc0b4\ud3b4\ubcf4\uc138\uc694,\nAST\uc5d0\ub294 \ub9ce\uc740 ",(0,r.jsx)(n.code,{children:"Box"}),"\uc640 ",(0,r.jsx)(n.code,{children:"Vec"}),"\uc774 \uc788\uc744 \uc218 \uc788\uc73c\uba70, ",(0,r.jsx)(n.code,{children:"Statement"}),"\uc640 ",(0,r.jsx)(n.code,{children:"Expression"})," \uc5f4\uac70\ud615\uc5d0\ub294 \uc5f4\uac70\ud615 \ubcc0\ud615\uc744 \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"enum-size",children:"Enum Size"}),"\n",(0,r.jsx)(n.p,{children:"\uc6b0\ub9ac\uac00 \ub9cc\ub4e4 \uccab\ubc88\uc9f8 \ucd5c\uc801\ud654\ub294 \uc5f4\uac70\uac12\uc758 \ud06c\uae30\ub97c \uc904\uc774\ub294 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"Rust \uc5f4\uac70\uc758 \ubc14\uc774\ud2b8 \ud06c\uae30\ub294 \ubaa8\ub4e0 \ubcc0\ud615\uc758 \ud569\uc73c\ub85c \uc54c\ub824\uc838 \uc788\uc2b5\ub2c8\ub2e4.\n\uc608\ub97c \ub4e4\uc5b4 \ub2e4\uc74c \uc5f4\uac70\ud615\uc740 56\ubc14\uc774\ud2b8(\ud0dc\uadf8\uc758 \uacbd\uc6b0 1\ubc14\uc774\ud2b8, \ud398\uc774\ub85c\ub4dc\uc758 \uacbd\uc6b0 48\ubc14\uc774\ud2b8, \uc815\ub82c\uc758 \uacbd\uc6b0 8\ubc14\uc774\ud2b8)\ub97c \ucc28\uc9c0\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"enum Name {\n    Anonymous, // 0 byte payload\n    Nickname(String), // 24 byte payload\n    FullName{ first: String, last: String }, // 48 byte payload\n}\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\uc774 \uc608\ub294 ",(0,r.jsx)(n.a,{href:"https://adeschamps.github.io/enum-size",children:"\ube14\ub85c\uadf8"})," \uc5d0\uc11c \uac00\uc838\uc628 \uac83\uc785\ub2c8\ub2e4"]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Expression"}),"\uc640 ",(0,r.jsx)(n.code,{children:"Statement"}),"\uc758 \uacbd\uc6b0 \ud604\uc7ac \uc124\uc815\uc73c\ub85c \ucd5c\ub300 200\ubc14\uc774\ud2b8 \uc774\uc0c1\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 200 \ubc14\uc774\ud2b8\ub294 ",(0,r.jsx)(n.code,{children:"matches!'(expr, Expression::AwaitExpression(__))"})," \uccb4\ud06c\ud574, \uc131\ub2a5\uba74\uc5d0\uc11c \uce90\uc2dc \uce5c\ud654\uc801\uc774\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\ub354 \ub098\uc740 \uc811\uadfc \ubc29\uc2dd\uc740 enum variants\uc744 \ubc15\uc2a4\ud654\ud558\uace0 16\ubc14\uc774\ud2b8\ub9cc \uc6b4\ubc18\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub enum Expression {\n    AwaitExpression(Box<AwaitExpression>),\n    YieldExpression(Box<YieldExpression>),\n}\n\npub struct AwaitExpression {\n    pub node: Node,\n    pub expression: Expression,\n}\n\npub struct YieldExpression {\n    pub node: Node,\n    pub expression: Expression,\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["64\ube44\ud2b8 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc22b\uc790\uac00 \uc2e4\uc81c\ub85c 16\ubc14\uc774\ud2b8\uc778\uc9c0 \ud655\uc778\ud558\ub824\uba74 ",(0,r.jsx)(n.code,{children:"std::mem::size_of"}),"\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"#[test]\nfn no_bloat_enum_sizes() {\n    use std::mem::size_of;\n    assert_eq!(size_of::<Statement>(), 16);\n    assert_eq!(size_of::<Expression>(), 16);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:'"no bloat enum size" \ud14c\uc2a4\ud2b8 \uc0ac\ub840\ub294 \uc791\uc740 enum size\ub97c \ubcf4\uc7a5\ud558\uae30 \uc704\ud55c Rust \ucef4\ud30c\uc77c\ub7ec \uc18c\uc2a4 \ucf54\ub4dc\uc5d0\uc11c \uc885\uc885 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",metastring:"reference",children:"https://github.com/rust-lang/rust/blob/9c20b2a8cc7588decb6de25ac6a7912dcef24d65/compiler/rustc_ast/src/ast.rs#L3033-L3042\n"})}),"\n",(0,r.jsx)(n.p,{children:"\ub2e4\ub978 large type\ub97c \ucc3e\uae30 \uc704\ud574 \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"RUSTFLAGS=-Zprint-type-sizes cargo +nightly build -p name_of_the_crate --release\n"})}),"\n",(0,r.jsx)(n.p,{children:"\ubcf4\uc2dc\uc8e0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markup",children:"print-type-size type: `ast::js::Statement`: 16 bytes, alignment: 8 bytes\nprint-type-size     discriminant: 8 bytes\nprint-type-size     variant `BlockStatement`: 8 bytes\nprint-type-size         field `.0`: 8 bytes\nprint-type-size     variant `BreakStatement`: 8 bytes\nprint-type-size         field `.0`: 8 bytes\nprint-type-size     variant `ContinueStatement`: 8 bytes\nprint-type-size         field `.0`: 8 bytes\nprint-type-size     variant `DebuggerStatement`: 8 bytes\nprint-type-size         field `.0`: 8 bytes\n"})}),"\n",(0,r.jsx)(n.h4,{id:"memory-arena",children:"Memory Arena"}),"\n",(0,r.jsxs)(n.p,{children:["AST\uc5d0 \uae00\ub85c\ubc8c \uba54\ubaa8\ub9ac \ud560\ub2f9\uae30\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 \uc2e4\uc81c\ub85c \ud6a8\uc728\uc801\uc774\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\ubaa8\ub4e0 ",(0,r.jsx)(n.code,{children:"Box"}),"\uc640 ",(0,r.jsx)(n.code,{children:"Vec"}),"\ub294 \uc694\uccad\uc5d0 \ub530\ub77c \ud560\ub2f9\ub41c \ud6c4 \ub530\ub85c \ud574\uc81c\ub429\ub2c8\ub2e4.\n\uba54\ubaa8\ub9ac\ub97c \ubbf8\ub9ac \ud560\ub2f9\ud558\uace0 \ud55c \ubc88\uc5d0 \uc0ad\uc81c\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://manishearth.github.io/blog/2021/03/15/arenas-in-rust/",children:"\ube14\ub85c\uadf8"}),"\uc5d0 \uba54\ubaa8\ub9ac \uad6c\uc5ed\uc5d0 \ub300\ud574 \uc790\uc138\ud788 \uc124\uba85\ud569\ub2c8\ub2e4."]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.rs/bumpalo/latest/bumpalo/",children:(0,r.jsx)(n.code,{children:"bumpalo"})}),"\ub294 \uc6b0\ub9ac\uc758 \uc0ac\uc6a9 \uc0ac\ub840\uc5d0 \ub9e4\uc6b0 \uc801\ud569\ud55c \ud6c4\ubcf4\uc785\ub2c8\ub2e4:"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ubc94\ud504 \ud560\ub2f9\uc740 \ube60\ub974\uc9c0\ub9cc \ud560\ub2f9\uc5d0 \uc81c\ud55c\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc785\ub2c8\ub2e4.\n\uc6b0\ub9ac\ub294 \uba54\ubaa8\ub9ac chunk\ub97c \uac00\uc9c0\uace0, \uba54\ubaa8\ub9ac \ub0b4\uc5d0 \ud3ec\uc778\ud130\ub97c \uc720\uc9c0\ud569\ub2c8\ub2e4. \uac1d\uccb4\ub97c \ud560\ub2f9\ud560 \ub54c \ub9c8\ub2e4,\n\uc6b0\ub9ac\ub294 chunk\uc5d0 \uac1c\uccb4\ub97c \ud560\ub2f9\ud560 \uc218 \uc788\ub294 \ucda9\ubd84\ud55c \uc6a9\ub7c9\uc774 \ub0a8\uc544 \uc788\ub294\uc9c0 \ube60\ub974\uac8c \ud655\uc778\ud55c \ub2e4\uc74c \uac1c\uccb4 \ud06c\uae30\uc5d0 \ub530\ub77c \ud3ec\uc778\ud130\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4. \uadf8 \ubfd0\uc785\ub2c8\ub2e4!"}),"\n",(0,r.jsx)(n.p,{children:"\ubc94\ud504 \ud560\ub2f9\uc758 \ub2e8\uc810\uc740 \uac1c\ubcc4 \uac1d\uccb4\uc758 \ud560\ub2f9\uc744 \ud574\uc81c\ud558\uac70\ub098 \ub354 \uc774\uc0c1 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uac1d\uccb4\uc758 \uba54\ubaa8\ub9ac \uc601\uc5ed\uc744 \ud68c\uc218\ud560 \uc218 \uc788\ub294 \uc77c\ubc18\uc801\uc778 \ubc29\ubc95\uc774 \uc5c6\ub2e4\ub294 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"\uc774\ub7ec\ud55c trade off \ub355\ubd84\uc5d0 \ubc94\ud504 \ud560\ub2f9\uc740 \ub2e8\uacc4 \uc9c0\ud5a5 \ud560\ub2f9\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4. \uc989, \ub3d9\uc77c\ud55c \ud504\ub85c\uadf8\ub7a8 \ub2e8\uacc4\uc5d0\uc11c \ubaa8\ub450 \ud560\ub2f9\ub418\uc5b4 \uc0ac\uc6a9\ub41c \ub2e4\uc74c \ubaa8\ub450 \uadf8\ub8f9\uc73c\ub85c \ud568\uaed8 \ud560\ub2f9 \ud574\uc81c\ud560 \uc218 \uc788\ub294 \uac1d\uccb4 \uadf8\ub8f9\uc785\ub2c8\ub2e4."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"bumpalo::collections::Vec"})," \ubc0f ",(0,r.jsx)(n.code,{children:"bumpalo::boxed::Box"}),"\ub97c \uc0ac\uc6a9\ud558\uba74 AST\uc5d0 lifetime\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use bumpalo::collections::Vec;\nuse bumpalo::boxed::Box;\n\npub enum Expression<'a> {\n    AwaitExpression(Box<'a, AwaitExpression>),\n    YieldExpression(Box<'a, YieldExpression>),\n}\n\npub struct AwaitExpression<'a> {\n    pub node: Node,\n    pub expression: Expression<'a>,\n}\n\npub struct YieldExpression<'a> {\n    pub node: Node,\n    pub expression: Expression<'a>,\n}\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.p,{children:"\uc774 \ub2e8\uacc4\uc5d0\uc11c lifetime\ub97c \ub2e4\ub8e8\ub294 \uac83\uc774 \uc775\uc219\ud558\uc9c0 \uc54a\ub2e4\uba74 \uc8fc\uc758\ud574 \uc8fc\uc138\uc694.\n\uc800\ud76c \ud504\ub85c\uadf8\ub7a8\uc740 \uba54\ubaa8\ub9ac \uc601\uc5ed \uc5c6\uc774\ub3c4 \uc798 \uc791\ub3d9\ud569\ub2c8\ub2e4."}),(0,r.jsx)(n.p,{children:"\ub2e4\uc74c \uc7a5\uc758 \ucf54\ub4dc\uc5d0\uc11c\ub294 \ub2e8\uc21c\ud654\ub97c \uc704\ud574 \uba54\ubaa8\ub9ac \uc601\uc5ed\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})]}),"\n",(0,r.jsx)(n.h2,{id:"json-serialization",children:"JSON Serialization"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://serde.rs/",children:"serde"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec AST\ub97c JSON\uc73c\ub85c \uc9c1\ub82c\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"estree"}),"\uc640 \ud638\ud658\ub418\ub3c4\ub85d \ud558\ub824\uba74 \uba87 \uac00\uc9c0 \uae30\uc220\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.\n\ub2e4\uc74c\uc740 \uba87 \uac00\uc9c0 \uc608\uc785\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use serde::Serialize;\n\n#[derive(Debug, Clone, Serialize, PartialEq)]\n#[serde(tag = "type")]\n#[cfg_attr(feature = "estree", serde(rename = "Identifier"))]\npub struct IdentifierReference {\n    #[serde(flatten)]\n    pub node: Node,\n    pub name: Atom,\n}\n\n#[derive(Debug, Clone, Serialize, PartialEq, Hash)]\n#[serde(tag = "type")]\n#[cfg_attr(feature = "estree", serde(rename = "Identifier"))]\npub struct BindingIdentifier {\n    #[serde(flatten)]\n    pub node: Node,\n    pub name: Atom,\n}\n\n#[derive(Debug, Serialize, PartialEq)]\n#[serde(untagged)]\npub enum Expression<\'a> {\n    ...\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'serde(tag = "type")'}),'\ub294 \uad6c\uc870\uccb4 \uc774\ub984\uc744 "type" \ud544\ub4dc\ub85c \ub9cc\ub4dc\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4(\uc608: ',(0,r.jsx)(n.code,{children:'{ "type" : "..." }'}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cfg_attr"})," + ",(0,r.jsx)(n.code,{children:"serde(rename)"}),"\ub294 ",(0,r.jsx)(n.code,{children:"estree"}),"\uac00 \ub2e4\ub978 \uc2dd\ubcc4\uc790\ub97c \uad6c\ubd84\ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \ub2e4\ub978 \uad6c\uc870\uccb4 \uc774\ub984\uc744 \uac19\uc740 \uc774\ub984\uc73c\ub85c \ubc14\uafb8\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:["\uc5f4\uac70\ud615\uc5d0 ",(0,r.jsx)(n.code,{children:"serde(untagged)"}),"\ub294 \uc5f4\uac70\ud615\uc5d0 \ub300\ud55c \ucd94\uac00 JSON \uac1d\uccb4\ub97c \uc0dd\uc131\ud558\uc9c0 \uc54a\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},7660:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>a});var r=s(959);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);